<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeWork2</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <link rel="stylesheet" href="./style/bootstrap.min.css">
    <link rel="stylesheet" href="./style/memberRegister.css">
    <script src="./js/jquery-3.6.0.js"></script>
    <script src="./js/bootstrap.js"></script>
    <script src="./js/validate.js"></script>
</head>

<body>
    <div class="container">
        <!-- 除非要上傳檔案 否則不要用method="multipart/form-data" 會抓不到參數-->
        <form action="./Register" method="POST">
            <fieldset>
                <legend>註冊表單</legend>
                <div class="st1">
                    <label for="name" class="t1">姓名：</label>
                    <input type="text" name="name" id="name" class="formElem">
                    <label for="name" id="nameCheckMsg"></label><br>
                    <span class="hint">(1.不可空白 2.至少兩個字以上 3.必須全部為中文字)</span>
                </div>
                <div class="st1">
                    <label for="account" class="t1">帳號：</label>
                    <input type="text" name="account" id="account" class="formElem">
                    <label for="name" id="accountCheckMsg"></label><br>
                    <span class="hint">(1.不可空白 2.至少6個字且必須包含英數字)</span>
                </div>
                <div class="st1">
                    <label for="password" class="t1">密碼：</label>
                    <input type="password" name="password" id="password" class="formElem">
                    <label for="name" id="passwordCheckMsg"></label><br>
                    <span class="hint">(1.不可空白 2.至少6個字且必須包含英數字)</span>
                </div>
                <div class="st1">
                    <label for="address" class="t1">地址：</label>
                    <input type="text" name="address" id="address" class="formElem">
                    <label for="name" id="addressCheckMsg"></label><br>
                </div>
                <div class="st1">
                    <label for="phone" class="t1">電話：</label>
                    <input type="text" name="phone" id="phone" class="formElem" maxlength="10">
                    <label for="name" id="phoneCheckMsg"></label><br>
                    <span class="hint">(格式：0987654321之十碼數字)</span>
                </div>
            </fieldset>
            <input type="submit" value="送出">
        </form>
    </div>

    <script>
        function exitInputEvent(event) {
            var formElemID = this.id;
            var inputVal = document.getElementById(formElemID).value;
            console.log(`"You selected ID: '${formElemID}' !"`);
            console.log(`"Input value: '${inputVal}' !"`);

            var result = validateInput(formElemID, inputVal);
            setValidateStatus(result.status, formElemID, result.message);
        }
        var elem = document.getElementsByClassName("formElem");

        // HTMLCollection不能用for in
        for (let i = 0; i < elem.length; i++) {
            elem[i].addEventListener("blur", exitInputEvent);
        }

    </script>
</body>

</html>